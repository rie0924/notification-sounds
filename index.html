<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>通知音一覧</title>
<style>
  body { font-family: sans-serif; padding: 2em; background: #f9f9f9; }
  h1 { color: #333; }
  ul { list-style: none; padding: 0; }
  li { margin: 1em 0; background: #fff; padding: 1em; border-radius: 8px; box-shadow: 0 0 5px rgba(0,0,0,0.1); }
  a { text-decoration: none; color: #007acc; font-weight: bold; }
  audio { display: block; margin-top: 0.5em; width: 100%; max-width: 400px; }
  button.copy-btn {
    margin-top: 0.5em; padding: 0.4em 0.8em; font-size: 0.9em;
    background-color: #007acc; color: white; border: none; border-radius: 4px; cursor: pointer;
  }
  button.copy-btn:hover { background-color: #005f99; }
</style>
</head>
<body>
<h1>通知音一覧</h1>
<ul id="sound-list"></ul>

<script>
const baseURL = "https://rie0924.github.io/notification-sounds/";
const apiURL  = "https://api.github.com/repos/rie0924/notification-sounds/contents/";

fetch(apiURL)
  .then(res => res.json())
  .then(files => {
    const list = document.getElementById("sound-list");
    files
      .filter(file => file.name.match(/\.(mp3|wav)$/i))
      .forEach(file => {
        const li = document.createElement("li");
        li.innerHTML = `
          <a href="${baseURL}${file.name}">${file.name}</a>
          <audio controls src="${baseURL}${file.name}"></audio>
          <button class="copy-btn" data-url="${baseURL}${file.name}">URLをコピー</button>
        `;
        list.appendChild(li);
      });
  });

document.addEventListener("click", e => {
  if (e.target.classList.contains("copy-btn")) {
    const url = e.target.getAttribute("data-url");
    navigator.clipboard.writeText(url).then(() => {
      e.target.textContent = "コピーしました！";
      setTimeout(() => e.target.textContent = "URLをコピー", 1500);
    });
  }
});
</script>
</body>
</html>


